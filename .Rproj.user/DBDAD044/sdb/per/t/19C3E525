{
    "contents" : "# How have emissions from motor vehicle sources changed from 1999â€“2008 in\n# Baltimore City?\n\nlibrary(dplyr)\nlibrary(ggplot2)\n\n# Function to create the fifth plot. If argument `save` is set to TRUE, a png\n# file 'plot6.png' is created containing the plot. Otherwise the plot is just\n# shown on the screen device.\nplot5 <- function (save = FALSE) {\n    if ( !(exists(\"SCC\") && exists(\"NEI\")) ) {\n        SCC <- readRDS(\"exdata-data-NEI_data/Source_Classification_Code.rds\")\n        NEI <- readRDS(\"exdata-data-NEI_data/summarySCC_PM25.rds\")\n        \n        SCC <- as.tbl(SCC)\n        NEI <- as.tbl(NEI)\n    }\n    \n    mv_related <- SCC %>%\n        filter(grepl('Vehicle', EI.Sector))\n\n    mv_sums <- NEI %>%\n        filter(fips == \"24510\") %>%\n        filter(SCC %in% mv_related$SCC) %>%\n        mutate(Year = factor(year)) %>%\n        group_by(Year) %>%\n        summarise(Sums = sum(Emissions))\n    \n    plot <- ggplot(mv_sums, aes(x=Year, y=Sums, group=1)) +\n        geom_line() +\n        labs(title = expression(PM[2.5] * \" emissions from motor vehicle sources in Baltimore City, MA\")) +\n        labs(x = \"Year\", y = expression(Total~emissions~of~PM[2.5]))\n    \n    # PNG file creation, create a png file if argument save = TRUE\n    if (save) png(file = \"plot5.png\", bg = \"transparent\")\n    print(plot)\n    if (save) dev.off()\n}\n",
    "created" : 1443123738752.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "405290253",
    "id" : "19C3E525",
    "lastKnownWriteTime" : 1443388433,
    "path" : "~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot5.R",
    "project_path" : "plot5.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 6,
    "source_on_save" : true,
    "type" : "r_source"
}