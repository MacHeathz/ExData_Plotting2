{
    "contents" : "# Of the four types of sources indicated by the type (point, nonpoint, onroad,\n# nonroad) variable, which of these four sources have seen decreases in\n# emissions from 1999–2008 for Baltimore City? Which have seen increases in\n# emissions from 1999–2008? Use the ggplot2 plotting system to make a plot to\n# answer this question.\n\nlibrary(dplyr)\nlibrary(ggplot2)\n\n# Function to create the third plot. If argument `save` is set to TRUE, a png\n# file 'plot6.png' is created containing the plot. Otherwise the plot is just\n# shown on the screen device.\nplot3 <- function (save = FALSE) {\n    if ( !(exists(\"SCC\") && exists(\"NEI\")) ) {\n        SCC <- readRDS(\"exdata-data-NEI_data/Source_Classification_Code.rds\")\n        NEI <- readRDS(\"exdata-data-NEI_data/summarySCC_PM25.rds\")\n        \n        SCC <- as.tbl(SCC)\n        NEI <- as.tbl(NEI)\n    }\n    \n    type_sums <- NEI %>%\n        filter(fips == \"24510\") %>% # Baltimore City\n        mutate(Year = factor(year)) %>%\n        group_by(type, Year) %>%\n        summarise(Sums = sum(Emissions))\n    \n    # Use ggplot to create one plot for each type showing a line with\n    # the increase/decrease per year\n    plot <- ggplot(type_sums, aes(x=Year, y=Sums, group=1)) +\n            geom_line() +\n            facet_grid(type ~ .) +\n            labs(y = expression(Total~emissions~of~PM[2.5]), x = \"Year\") +\n            labs(title = expression(Total~emissions~of~PM[2.5]~per~source~type~per~year))\n    \n    # PNG file creation, create a png file if argument save = TRUE\n    if (save) png(file = \"plot3.png\", bg = \"transparent\")\n    print(plot)\n    if (save) dev.off()\n}\n",
    "created" : 1443123719402.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2359435964",
    "id" : "7C0C6E9B",
    "lastKnownWriteTime" : 1443389894,
    "path" : "~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot3.R",
    "project_path" : "plot3.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 4,
    "source_on_save" : true,
    "type" : "r_source"
}