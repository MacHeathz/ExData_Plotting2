source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot5.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot5.R')
plot5()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot5.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot5.R')
plot5()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/pm25.R')
plot4()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot4.R')
plot4()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot4.R')
plot4()
plot5()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
plot2()
plot1()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot4.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot4.R')
type_sums <- NEI %>%
filter(fips == "24510") %>% # Baltimore City
mutate(Year = factor(year)) %>%
group_by(Year, type) %>%
summarise(Sums = sum(Emissions))
View(type_sums)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot3.R')
type_sums %>% mutate(Change = sapply(type, function(x){ type_sums[type == x,] }))
type_sums[type_sums$type == "NON-ROAD",]
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot3.R')
plot3()
plot4()
plot5()
plot6()
mv_related <- SCC %>%
filter(grepl('Vehicle', EI.Sector))
city_sums <- NEI %>%
filter(fips == "24510" | fips == "06037") %>%
filter(SCC %in% mv_related$SCC) %>%
mutate(fips = ifelse(fips == "24510", "Baltimore City, MA", "Los Angeles County, CA")) %>%
mutate(Year = factor(year)) %>%
group_by(fips, Year) %>%
summarise(Sums = sum(Emissions))
View(city_sums)
city_sums %>% mutate(Change = sapply(fips, function(x){}))
city_sums %>% mutate(Change = sapply(fips, function(x){ ... }))
?summarise
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
city_sums.dif <- cbind(city_sums, rbind(NA, apply(city_sums, 2, diff)))
apply(city_sums$Sums, 2, diff)
rbind(NA, apply(city_sums$Sums, 2, diff))
city_sums$Sums
sapply(city_sums$Sums, diff)
sapply(city_sums$Sums, diff)
sapply(city_sums$Sums, diff)
diff(city_sums$Sums)
city_sums$Sums
length(city_sums$Sums)
length(diff(city_sums$Sums))
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
rm(list = ls())
plotAll()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/pm25.R')
plotAll()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/pm25.R')
plotAll()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6(TRUE)
plotAll(FALSE)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
city_sums <- NEI %>%
filter(fips == "24510" | fips == "06037") %>%
filter(SCC %in% mv_related$SCC) %>%
mutate(fips = ifelse(fips == "24510", "Baltimore City, MA", "Los Angeles County, CA")) %>%
mutate(Year = factor(year)) %>%
group_by(fips, Year) %>%
summarise(Sums = sum(Emissions)) %>%
# city_sums.dif <- cbind(city_sums, rbind(NA, apply(city_sums$Sums, 2, diff)))
mutate(diff = c(diff(tail(Sums, -1), head(Sums, -1)), 0))
mv_related <- SCC %>%
filter(grepl('Vehicle', EI.Sector))
city_sums <- NEI %>%
filter(fips == "24510" | fips == "06037") %>%
filter(SCC %in% mv_related$SCC) %>%
mutate(fips = ifelse(fips == "24510", "Baltimore City, MA", "Los Angeles County, CA")) %>%
mutate(Year = factor(year)) %>%
group_by(fips, Year) %>%
summarise(Sums = sum(Emissions)) %>%
# city_sums.dif <- cbind(city_sums, rbind(NA, apply(city_sums$Sums, 2, diff)))
mutate(diff = c(diff(tail(Sums, -1), head(Sums, -1)), 0))
library(plyr)
library(dplyr)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
ddply(city_sums, .(fips), transform,
Sums_1 = Sums[1],
change = (Sums - Sums_1[1]))
mv_related <- SCC %>%
filter(grepl('Vehicle', EI.Sector))
city_sums <- NEI %>%
filter(fips == "24510" | fips == "06037") %>%
filter(SCC %in% mv_related$SCC) %>%
mutate(fips = ifelse(fips == "24510", "Baltimore City, MA", "Los Angeles County, CA")) %>%
mutate(Year = factor(year)) %>%
group_by(fips, Year) %>%
summarise(Sums = sum(Emissions))
ddply(city_sums, .(fips), transform,
Sums_1 = Sums[1],
change = (Sums - Sums_1[1]))
View(city_sums)
city_sums <- NEI %>%
filter(fips == "24510" | fips == "06037") %>%
filter(SCC %in% mv_related$SCC) %>%
mutate(fips = ifelse(fips == "24510", "Baltimore City, MA", "Los Angeles County, CA")) %>%
mutate(Year = factor(year)) %>%
group_by(fips, Year) %>%
summarise(Sums = sum(Emissions))
city_sums
rm(list = ls())
library(plyr)
library(dplyr)
library(ggplot2)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
if ( !(exists("SCC") && exists("NEI")) ) {
SCC <- readRDS("exdata-data-NEI_data/Source_Classification_Code.rds")
NEI <- readRDS("exdata-data-NEI_data/summarySCC_PM25.rds")
SCC <- as.tbl(SCC)
NEI <- as.tbl(NEI)
}
mv_related <- SCC %>%
filter(grepl('Vehicle', EI.Sector))
city_sums <- NEI %>%
filter(fips == "24510" | fips == "06037") %>%
filter(SCC %in% mv_related$SCC) %>%
mutate(fips = ifelse(fips == "24510", "Baltimore City, MA", "Los Angeles County, CA")) %>%
mutate(Year = factor(year)) %>%
group_by(fips, Year) %>%
summarise(Sums = sum(Emissions))
View(city_sums)
mv_related
?ddply
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
city_sums <- NEI %>%
filter(fips == "24510" | fips == "06037") %>%
filter(SCC %in% mv_related$SCC) %>%
mutate(fips = ifelse(fips == "24510", "Baltimore City, MA", "Los Angeles County, CA"))
city_sums
NEI %>%
filter(fips == "24510" | fips == "06037") %>%
filter(SCC %in% mv_related$SCC) %>%
mutate(fips = ifelse(fips == "24510", "Baltimore City, MA", "Los Angeles County, CA")) %>%
mutate(Year = factor(year))
NEI %>%
filter(fips == "24510" | fips == "06037") %>%
filter(SCC %in% mv_related$SCC) %>%
mutate(fips = ifelse(fips == "24510", "Baltimore City, MA", "Los Angeles County, CA")) %>%
mutate(Year = factor(year)) %>%
group_by(fips, Year)
NEI %>%
filter(fips == "24510" | fips == "06037") %>%
filter(SCC %in% mv_related$SCC) %>%
mutate(fips = ifelse(fips == "24510", "Baltimore City, MA", "Los Angeles County, CA")) %>%
mutate(Year = factor(year)) %>%
group_by(fips, Year) %>%
summarise(Sums = sum(Emissions))
mv_related <- SCC %>%
filter(grepl('Vehicle', EI.Sector))
mv_sums <- NEI %>%
filter(fips == "24510") %>%
filter(SCC %in% mv_related$SCC) %>%
mutate(Year = factor(year)) %>%
group_by(Year)
mv_sums
mv_related <- SCC %>%
filter(grepl('Vehicle', EI.Sector))
mv_sums <- NEI %>%
filter(fips == "24510") %>%
filter(SCC %in% mv_related$SCC) %>%
mutate(Year = factor(year)) %>%
group_by(Year) %>%
summarise(Sums = sum(Emissions))
mv_sums
library(dplyr)
library(ggplot2)
mv_related <- SCC %>%
filter(grepl('Vehicle', EI.Sector))
mv_sums <- NEI %>%
filter(fips == "24510") %>%
filter(SCC %in% mv_related$SCC) %>%
mutate(Year = factor(year)) %>%
group_by(Year) %>%
summarise(Sums = sum(Emissions))
mv_sums
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
rm(list = ls())
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
if ( !(exists("SCC") && exists("NEI")) ) {
SCC <- readRDS("exdata-data-NEI_data/Source_Classification_Code.rds")
NEI <- readRDS("exdata-data-NEI_data/summarySCC_PM25.rds")
SCC <- as.tbl(SCC)
NEI <- as.tbl(NEI)
}
mv_related <- SCC %>%
filter(grepl('Vehicle', EI.Sector))
city_sums <- NEI %>%
filter(fips == "24510" | fips == "06037") %>%
filter(SCC %in% mv_related$SCC) %>%
mutate(fips = ifelse(fips == "24510", "Baltimore City, MA", "Los Angeles County, CA")) %>%
mutate(Year = factor(year)) %>%
group_by(fips, Year) %>%
summarise(Sums = sum(Emissions))
city_sums
rm(list = ls())
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
plot1()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
plot2()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot2.R')
plot2()
plot3()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot3.R')
plot3()
if ( !(exists("SCC") && exists("NEI")) ) {
SCC <- readRDS("exdata-data-NEI_data/Source_Classification_Code.rds")
NEI <- readRDS("exdata-data-NEI_data/summarySCC_PM25.rds")
SCC <- as.tbl(SCC)
NEI <- as.tbl(NEI)
}
plot1(TRUE)
plot2(TRUE)
plot3(TRUE)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot4.R')
plot4()
plot4(TRUE)
plot5()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot5.R')
plot5()
plot5(TRUE)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
plot6(TRUE)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
plot6(TRUE)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot4.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot4.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot4.R')
plot4()
plot4(TRUE)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot4.R')
plot4(TRUE)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot5.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot5.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot5.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot5.R')
plot5()
plot5(TRUE)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6(TRUE)
library(lattice)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6(TRUE)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6(TRUE)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot4.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot3.R')
library(plyr)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
x<-c(1,2,4)
x
print(x)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
city_sums
plot6()
View(city_sums)
library(plyr); library(dplyr)
rm(list = ls())
library(plyr)
library(dplyr)
library(ggplot2)
debugSource('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6(0)
Q
detach("package:dplyr", unload=TRUE)
detach("package:plyr", unload=TRUE)
detach("package:ggplot2", unload=TRUE)
detach("package:plyr", unload=TRUE)
library(plyr); library(dplyr)
debugSource('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
SCC <- readRDS("exdata-data-NEI_data/Source_Classification_Code.rds")
NEI <- readRDS("exdata-data-NEI_data/summarySCC_PM25.rds")
SCC <- as.tbl(SCC)
NEI <- as.tbl(NEI)
mv_related <- SCC %>%
filter(grepl('Vehicle', EI.Sector))
city_sums <- NEI %>%
filter(fips == "24510" | fips == "06037") %>%
filter(SCC %in% mv_related$SCC) %>%
mutate(fips = ifelse(fips == "24510", "Baltimore City, MA", "Los Angeles County, CA")) %>%
mutate(Year = factor(year)) %>%
group_by(fips, Year) %>%
summarise(Sums = sum(Emissions))
ddply(city_sums, .(fips), function(x){
print(sapply(x$Sums, diff))
})
sapply(c(1,2,3,4), diff)
sapply(c(1,2,3,4), diff)[[1]]
sapply(c(1,2,3,4), function(x,i){})
sapply(c(1,2,3,4), function(x,i){print(x);print(i);})
?apply
city_sums
apply(city_sums, "Sums", diff))
apply(city_sums, "Sums", diff)
apply(city_sums, 2, diff)
apply(city_sums, 2, print)
apply(city_sums, c(1, 2), function(x){  })
apply(city_sums, c(1, 2), function(x){ print(x) })
apply(city_sums, 1:2, function(x){ print(x) })
dim(city_sums)
c(dim(city_sums), 3)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
plot6()
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot6.R')
library(data.table)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
SCC <- readRDS("exdata-data-NEI_data/Source_Classification_Code.rds")
NEI <- readRDS("exdata-data-NEI_data/summarySCC_PM25.rds")
SCC <- as.tbl(SCC)
NEI <- as.data.table(NEI)
?as.data.table
head(NEI)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
unique(NEI$Polllutant)
unique(NEI$Pollutant)
setkey(NEI, year)
NEI[,sum(Emissions)]
NEI[,sum(Emissions),by=year]
NEI2 <- as.tbl(readRDS("exdata-data-NEI_data/summarySCC_PM25.rds"))
class(NEI)
class(NNEI)
class(NEI2)
NEI[,year:=factor(year)]
NEI[,year:=factor(year)][,sum(Emissions),by=year]
NEI2 %>%
mutate(Year = factor(year)) %>%
group_by(Year) %>%
summarise(Sums = sum(Emissions)) %>%
# To make the values more readable, we divide by 1 mln
mutate(Sums = Sums / 1e+06)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
rm(list = ls())
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
plot1()
NEI
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
rm(list = ls())
source('plot1.R')
NEI <- readRDS("exdata-data-NEI_data/summarySCC_PM25.rds")
NEI <- as.tbl(as.data.table(NEI, key = "year"))
system.time(plot1())
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
system.time(plot1())
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
class(NEI)
?make.names
system.time(NEI[ ,Year:=factor(year) ][ ,Sums:=(sum(Emissions)/1e+06),by=Year ])
library(data.table)
library(dplyr)
NEI[ ,Year:=factor(year) ][ ,Sums:=(sum(Emissions)/1e+06),by=Year ]
system.time(NEI[ ,Year:=factor(year) ][ ,Sums:=(sum(Emissions)/1e+06),by=Year ])
system.time(NEI %>%
mutate(Year = factor(year)) %>%
group_by(Year) %>%
summarise(Sums = (sum(Emissions) / 1e+06)))
sums_dp <- NEI %>%
mutate(Year = factor(year)) %>%
group_by(Year) %>%
summarise(Sums = (sum(Emissions) / 1e+06))
sums_dt <- NEI[ ,Year:=factor(year) ][ ,Sums:=(sum(Emissions)/1e+06),by=Year ]
View(sums_dt)
source('~/R/Coursera/assignments/exdata-032/ExData_Plotting2/plot1.R')
sums_dt <- NEI[ ,Year:=factor(year) ][ ,Sums:=(sum(Emissions)/1e+06),by=Year ][, c(Year,Sums)]
?"data.table"
library(swirl)
swirl()
str(diamonds)
qplot(price, data = diamonds)
range(diamonds$price)
qplot(price, data=diamonds, binwidth=18497/30)
play()
qplot(price, data=diamonds, binwidth=130)
qplot(price, data=diamonds, binwidth=30)
nxt()
brk
counts
qplot(price, data=diamonds, binwidth=18497/30, fill = cut)
qplot(price, data=diamonds, geom="density")
qplot(price, data=diamonds, geom="density", color=cut)
qplot(carat, price data=diamonds)
qplot(carat, price, data=diamonds)
qplot(carat, price, data=diamonds, shape=cut)
qplot(carat, price, data=diamonds, color=cut)
qplot(carat, price, data=diamonds, color=cut, geom=c("point", "smooth", method="lm"))
qplot(carat, price, data=diamonds, color=cut, geom=c("point", "smooth"), method="lm")
0
exit
quit()
library(swirl)
swirl()
dist(dataFrame)
hc <- hclust(distxy)
play()
hc
dist
distxy
dataFrame
summary(dataFrame)
hc
mc <- dist(dataFrame, method = "manhattan")
?dist
mc
hc
mc <- hclust(mc)
mc
hc
nxt()
plot(hc)
play()
plot(mc)
nxt()
as.dendrogram(hc)
plot(as.dendrogram(hc))
abline(h=1.5, col="blue")
abline(h=.4, col="red")
5
play()
abline(h=.05, col="green")
nxt()
12
abline(h=.05, col="green")
dist(dFsm)
hc
heatmap(dataMatrix, col=cm.colors(25))
heatmap(mt)
mt
plot(denmt)
distmt
q()
